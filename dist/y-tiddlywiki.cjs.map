{"version":3,"file":"y-tiddlywiki.cjs","sources":["../src/y-tiddlywiki.js"],"sourcesContent":["\n/*\\\ntitle: y-tiddlywiki.js\ntype: application/javascript\nmodule-type: library\n\nA yjs binding connecting a Y.Doc to the current $tw.\n\n\\*/\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n/**\n * @module bindings/tiddlywiki\n */\n\nimport { createMutex } from 'lib0/mutex.js'\nimport * as Y from 'yjs' // eslint-disable-line\nimport { Awareness } from 'y-protocols/awareness.js' // eslint-disable-line\nconst Delta = require('./delta-rollup.cjs') // eslint-disable-line\n\n/**\n * Removes the pending '\\n's if it has no attributes.\n */\nexport const normQuillDelta = delta => {\n  if (delta.length > 0) {\n    const d = delta[delta.length - 1]\n    const insert = d.insert\n    if (d.attributes === undefined && insert !== undefined && insert.slice(-1) === '\\n') {\n      delta = delta.slice()\n      let ins = insert.slice(0, -1)\n      while (ins.slice(-1) === '\\n') {\n        ins = ins.slice(0, -1)\n      }\n      delta[delta.length - 1] = { insert: ins }\n      if (ins.length === 0) {\n        delta.pop()\n      }\n      return delta\n    }\n  }\n  return delta\n}\n\n /**\n  * @param {any} twCursors\n  */\nconst updateCursor = (twCursors, aw, clientId, doc, type) => {\n  try {\n  if (aw && aw.cursor && clientId !== doc.clientID) {\n    const user = aw.user || {}\n    const color = user.color || '#ffa500'\n    const name = user.name || `User: ${clientId}`\n    twCursors.createCursor(clientId.toString(), name, color)\n    const anchor = Y.createAbsolutePositionFromRelativePosition(Y.createRelativePositionFromJSON(aw.cursor.anchor), doc)\n    const head = Y.createAbsolutePositionFromRelativePosition(Y.createRelativePositionFromJSON(aw.cursor.head), doc)\n    if (anchor && head && anchor.type === type) {\n    twCursors.moveCursor(clientId.toString(), { index: anchor.index, length: head.index - anchor.index })\n    }\n  } else {\n    twCursors.removeCursor(clientId.toString())\n  }\n  } catch (err) {\n  console.error(err)\n  }\n}\n\nclass QuillBinding {\n  /**\n   * @param {Y.Text} type\n   * @param {any} quill\n   * @param {Awareness} [awareness]\n   */\n  constructor (type, quill, awareness) {\n    const mux = createMutex()\n    const doc = /** @type {Y.Doc} */ (type.doc)\n    this.mux = mux\n    this.type = type\n    this.doc = doc\n    this.quill = quill\n    const quillCursors = quill.getModule('cursors') || null\n    this.quillCursors = quillCursors\n    // This object contains all attributes used in the quill instance\n    this._negatedUsedFormats = {}\n    this.awareness = awareness\n    this._awarenessChange = ({ added, removed, updated }) => {\n      const states = /** @type {Awareness} */ (awareness).getStates()\n      added.forEach(id => {\n        updateCursor(quillCursors, states.get(id), id, doc, type)\n      })\n      updated.forEach(id => {\n        updateCursor(quillCursors, states.get(id), id, doc, type)\n      })\n      removed.forEach(id => {\n        quillCursors.removeCursor(id.toString())\n      })\n    }\n    this._typeObserver = event => {\n      mux(() => {\n        const eventDelta = event.delta\n        // We always explicitly set attributes, otherwise concurrent edits may\n        // result in quill assuming that a text insertion shall inherit existing\n        // attributes.\n        const delta = []\n        for (let i = 0; i < eventDelta.length; i++) {\n          const d = eventDelta[i]\n          if (d.insert !== undefined) {\n            delta.push(Object.assign({}, d, { attributes: Object.assign({}, this._negatedUsedFormats, d.attributes || {}) }))\n          } else {\n            delta.push(d)\n          }\n        }\n        quill.updateContents(delta, 'yjs')\n      })\n    }\n    type.observe(this._typeObserver)\n    this._quillObserver = (eventType, delta) => {\n      if (delta && delta.ops) {\n        // update content\n        const ops = delta.ops\n        ops.forEach(op => {\n          if (op.attributes !== undefined) {\n            for (let key in op.attributes) {\n              if (this._negatedUsedFormats[key] === undefined) {\n                this._negatedUsedFormats[key] = false\n              }\n            }\n          }\n        })\n        mux(() => {\n          type.applyDelta(ops)\n        })\n      }\n      // always check selection\n      if (awareness && quillCursors) {\n        const sel = quill.getSelection()\n        const aw = /** @type {any} */ (awareness.getLocalState())\n        if (sel === null) {\n          if (awareness.getLocalState() !== null) {\n            awareness.setLocalStateField('cursor', /** @type {any} */ (null))\n          }\n        } else {\n          const anchor = Y.createRelativePositionFromTypeIndex(type, sel.index)\n          const head = Y.createRelativePositionFromTypeIndex(type, sel.index + sel.length)\n          if (!aw || !aw.cursor || !Y.compareRelativePositions(anchor, aw.cursor.anchor) || !Y.compareRelativePositions(head, aw.cursor.head)) {\n            awareness.setLocalStateField('cursor', {\n              anchor,\n              head\n            })\n          }\n        }\n        // update all remote cursor locations\n        awareness.getStates().forEach((aw, clientId) => {\n          updateCursor(quillCursors, aw, clientId, doc, type)\n        })\n      }\n    }\n    quill.on('editor-change', this._quillObserver)\n    mux(() => {\n      // This indirectly initializes _negatedUsedFormats.\n      // Make sure that this call this after the _quillObserver is set.\n      quill.setContents(type.toDelta())\n    })\n    // init remote cursors\n    if (quillCursors !== null && awareness) {\n      awareness.getStates().forEach((aw, clientId) => {\n        updateCursor(quillCursors, aw, clientId, doc, type)\n      })\n      awareness.on('change', this._awarenessChange)\n    }\n  }\n  destroy () {\n    this.type.unobserve(this._typeObserver)\n    this.quill.off('editor-change', this._quillObserver)\n    if (this.awareness) {\n      this.awareness.off('change', this._awarenessChange)\n    }\n  }\n}\n\nexport class TiddlywikiBinding {\n\t/**\n\t\t* @param {Y.Doc} wikiDoc\n\t\t* @param {any} $tw\n\t\t* @param {Awareness} [awareness] optional\n\t\t*/\n\tconstructor (wikiDoc,$tw,awareness) {\n\t\tif(!wikiDoc) throw new Error(\"TiddlywikiBinding Error: invalid wikiDoc provided in constructor.\");\n\t\t\n\t\tthis.logger = null\n\t\tthis.textFields = [];\n\n\t\tconst mux = createMutex()\n\t\tthis.mux = mux\n\n\t\t// Initialize the WikiDoc by applying the schema, and bind it to $tw\n\t\tthis.wikiDoc = wikiDoc\n\n\t\tconst wikiTiddlers = wikiDoc.getArray(\"tiddlers\")\n\t\tthis.wikiTiddlers = wikiTiddlers\n\n\t\tthis.wikiTitles = wikiDoc.getArray(\"titles\") \n\t\tthis.wikiTombstones = wikiDoc.getArray(\"tombstones\")\n\n\t\tconst twCursors = null //quill.getModule('cursors') || null\n\t\tthis.twCursors = twCursors\n\t\tthis._setAwareness = (awareness) => {\n\t\t\tthis.awareness = awareness\n\t\t\tif (this.awareness && twCursors) {\n\t\t\t\t// init remote cursors\n\t\t\t\tthis.awareness.getStates().forEach((aw, clientId) => {\n\t\t\t\t\tupdateCursor(twCursors, aw, clientId, wikiDoc, wikiTiddlers)\n\t\t\t\t})\n\t\t\t\tthis.awareness.on('change', this._awarenessChange)\n\t\t\t}\n\t\t}\n\t\tthis._awarenessChange = ({ added, removed, updated }) => {\n\t\t\tconst awarenessStates = /** @type {Awareness} */ (this.awareness).getStates()\n\t\t\tadded.forEach(id => {\n\t\t\t\t//updateCursor(twCursors, awarenessStates.get(id), id, wikiDoc, wikiTiddlers)\n\t\t\t})\n\t\t\tupdated.forEach(id => {\n\t\t\t\t//updateCursor(twCursors, awarenessStates.get(id), id, wikiDoc, wikiTiddlers)\n\t\t\t})\n\t\t\tremoved.forEach(id => {\n\t\t\t\t//twCursors.removeCursor(id.toString())\n\t\t\t})\n\t\t}\n\t\tthis._storeTiddler = (yMap) => {\n\t\t\tlet fields = yMap.toJSON();\n\t\t\tif($tw.node) {\n\t\t\t\t$tw.syncer.wiki.addTiddler(new $tw.Tiddler(fields));\n\t\t\t} else {\n\t\t\t\t$tw.syncer.storeTiddler(fields);\n\t\t\t}\n\t\t}\n\t\tthis._tiddlersObserver = (events,transaction) => {\n\t\t\tmux(() => {\n\t\t\t\tif(transaction.origin !== this) {\n\t\t\t\t\tlet targets = new Set();\n\t\t\t\t\tevents.forEach(event => {\n\t\t\t\t\t\tif(!event.target.parent) {\n\t\t\t\t\t\t\t// Top level event, one or more tiddlers added\n\t\t\t\t\t\t\tevent.changes.added && event.changes.added.forEach(item => {\n\t\t\t\t\t\t\t\ttargets.add(item.content.type);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// YMap or YText event, a tiddler was updated\n\t\t\t\t\t\t\ttargets.add(this.wikiTiddlers.get(event.path[0]));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\ttargets.forEach((target) => {\n\t\t\t\t\t\tthis.logger.log(`Stored ${target.get('title')}`);\n\t\t\t\t\t\tthis._storeTiddler(target);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tthis._tombstonesObserver = (event,transaction) => {\n\t\t\tmux(() => {\n\t\t\t\tif(transaction.origin !== this) {\n\t\t\t\t\tevent.changes.added && event.changes.added.forEach(item => {\n\t\t\t\t\t\t$tw.utils.each(item.content.arr,(title) => {\n\t\t\t\t\t\t\t// A tiddler was deleted\n\t\t\t\t\t\t\tthis.logger.log(`Deleted ${title}`);\n\t\t\t\t\t\t\t$tw.syncer.wiki.deleteTiddler(title);\n\t\t\t\t\t\t});\t\t\t\t\t\t\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tthis.wikiTiddlers.observeDeep(this._tiddlersObserver)\n\t\tthis.wikiTombstones.observe(this._tombstonesObserver)\n\t\tthis._updateSelection = () => {\n\t\t\t// always check selection\n\t\t\tif (this.awareness && twCursors) {\n\t\t\t\tconst sel =\t$tw.syncer.wiki.getSelection()\n\t\t\t\tconst aw = /** @type {any} */ (this.awareness.getLocalState())\n\t\t\t\tif (sel === null) {\n\t\t\t\t\tif (this.awareness.getLocalState() !== null) {\n\t\t\t\t\t\tthis.awareness.setLocalStateField('cursor', /** @type {any} */ (null))\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst anchor = Y.createRelativePositionFromTypeIndex(wikiTiddlers, sel.index)\n\t\t\t\t\tconst head = Y.createRelativePositionFromTypeIndex(wikiTiddlers, sel.index + sel.length)\n\t\t\t\t\tif (!aw || !aw.cursor || !Y.compareRelativePositions(anchor, aw.cursor.anchor) || !Y.compareRelativePositions(head, aw.cursor.head)) {\n\t\t\t\t\t\tthis.awareness.setLocalStateField('cursor', {\n\t\t\t\t\t\t\tanchor,\n\t\t\t\t\t\t\thead\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// update all remote cursor locations\n\t\t\t\tthis.awareness.getStates().forEach((aw, clientId) => {\n\t\t\t\t\tupdateCursor(twCursors, aw, clientId, wikiDoc, wikiTiddlers)\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\tthis._save = (tiddler) => {\n\t\t\t// Only proccess a save if not read-only & hash of both sides of the binding are different\n\t\t\tif(!(tiddler instanceof $tw.Tiddler)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ($tw.syncer.syncadaptor.isReadOnly) {\n\t\t\t\t$tw.syncer.enqueueLoadTiddler(tiddler.fields.title); \n\t\t\t} else {\n\t\t\t\tlet tiddlerIndex = this.wikiTitles.toArray().indexOf(tiddler.fields.title);\n\t\t\t\tlet tiddlerMap = this.wikiTiddlers.get(tiddlerIndex) || new Y.Map();\n\t\t\t\tif(tiddlerIndex == -1){\n\t\t\t\t\tthis.wikiTiddlers.push([tiddlerMap]);\n\t\t\t\t\tthis.wikiTitles.push([tiddler.fields.title]);\n\t\t\t\t}\n\t\t\t\tlet tsIndex = this.wikiTombstones.toArray().indexOf(tiddler.fields.title);\n\t\t\t\tif(tsIndex !== -1) {\n\t\t\t\t\tthis.wikiTombstones.delete(tsIndex,1)\n\t\t\t\t}\n\t\t\t\ttiddlerMap.forEach((value,key) => {\n\t\t\t\t\tif(!tiddler.hasField(key)) {\n\t\t\t\t\t\tthis.logger.log(`Update, remove '${key}' from '${tiddler.fields.title}'`);\n\t\t\t\t\t\ttiddlerMap.delete(key);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t$tw.utils.each(tiddler.getFieldStrings(),(field,name) => {\n\t\t\t\t\tif(\t!tiddlerMap.has(name) ||\n\t\t\t\t\t\t$tw.utils.hashString(tiddlerMap.get(name).toString()) != $tw.utils.hashString(field)\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.logger.log(`Update, set '${name}' on '${tiddler.fields.title}'`);\n\t\t\t\t\t\tif(name.startsWith(\"text\") || this.textFields.indexOf(name) != -1) {\n\t\t\t\t\t\t\tlet yText = tiddlerMap.get(name) || new Y.Text();\n\t\t\t\t\t\t\tif (!tiddlerMap.has(name)) {\n\t\t\t\t\t\t\t\ttiddlerMap.set(name,yText);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet oldDelta = new Delta().insert(yText.toString()),\n\t\t\t\t\t\t\tnewDelta = new Delta().insert(field),\n\t\t\t\t\t\t\tdiff = oldDelta.diff(newDelta);\n\t\t\t\t\t\t\tif(diff.ops.length > 0) {\n\t\t\t\t\t\t\t\tyText.applyDelta(diff.ops);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttiddlerMap.set(name,field);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tthis._load = (title) => {\n\t\t\tlet fields = null;\n\t\t\tlet tiddlerIndex = this.wikiTitles.toArray().indexOf(title)\n\t\t\tif(this.wikiTombstones.toArray().indexOf(title) == -1 && tiddlerIndex !== -1) {\n        this.logger.log(`Loading ${title}`)\n\t\t\t\tfields = this.wikiTiddlers.get(tiddlerIndex).toJSON()\n\t\t\t}\n\t\t\treturn fields\n\t\t}\n\t\tthis._delete = (title) => {\n\t\t\tif ($tw.browser &&\t$tw.syncer.syncadaptor.isReadOnly) {\n\t\t\t\t$tw.syncer.enqueueLoadTiddler(title); \n\t\t\t} else {\n\t\t\t\tthis.logger.log(`Delete tiddler ${title}`);\n\t\t\t\tlet tiddlerIndex = this.wikiTitles.toArray().indexOf(title)\n\t\t\t\tif(tiddlerIndex !== -1 ) {\n\t\t\t\t\tthis.wikiTitles.delete(tiddlerIndex,1)\n\t\t\t\t\tthis.wikiTiddlers.delete(tiddlerIndex,1)\n\t\t\t\t}\n\t\t\t\tif(this.wikiTombstones.toArray().indexOf(title) == -1) {\n\t\t\t\t\tthis.wikiTombstones.push([title])\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// Client awareness\n\t\tif(awareness) {\n\t\t\tthis._setAwareness(awareness)\n\t\t}\n\t};\n\n\tsetAwareness (awareness) {\n\t\tthis.awareness && this.awareness.destroy()\n\t\tthis._setAwareness(awareness)\n\t\treturn this\n\t}\n\tinitFromWikiDoc($tw) {\n    //\n\t\tlet updates = {\n\t\t\tmodifications: new Array(),\n\t\t\tdeletions: new Array()\n\t\t}\n\t\tlet titles = $tw.syncer.filterFn.call($tw.syncer.wiki),\n\t\t\tmaps = this.wikiTitles.toArray(),\n\t\t\tdiff = titles.filter(x => maps.indexOf(x) === -1)\n\t\t// Delete those that are in titles, but not in maps\n\t\tdiff.forEach((title) => {\n\t\t\tupdates.deletions.push(title)\n\t\t})\n\t\t// Compare and update the tiddlers from the maps\n\t\tmaps.forEach((title) => {\n\t\t\tlet tiddler = $tw.syncer.wiki.getTiddler(title),\n\t\t\t\tyTiddler = new $tw.Tiddler(this._load(title))\n\t\t\tif(!tiddler.isEqual(yTiddler)) {\n\t\t\t\tupdates.modifications.push(title);\n\t\t\t}\n\t\t})\n\t\treturn updates\n\t}\n\tupdateWikiDoc($tw) {\n\t\t// Compare all tiddlers in the $tw.wiki to their YDoc maps on node server startup\n\t\tthis.wikiDoc.transact(() => {\n\t\t\tlet titles = $tw.syncer.filterFn.call($tw.syncer.wiki),\n\t\t\t\tmaps = this.wikiTitles.toArray(),\n\t\t\t\tdiff = maps.filter(x => titles.indexOf(x) === -1)\n\t\t\t// Delete those that are in maps, but not in titles\n\t\t\tthis.logger.log(`Startup, deleting ${diff.length} tiddlers`)\n\t\t\tdiff.forEach((title) => {\n\t\t\t\tthis._delete(title)\n\t\t\t})\n\t\t\t// Update the tiddlers that changed during server restart\n\t\t\tthis.logger.log(`Startup, testing ${titles.length} tiddlers`)\n\t\t\ttitles.forEach((title) => {\n\t\t\t\tthis._save($tw.syncer.wiki.getTiddler(title))\n\t\t\t})\n\t\t},this)\n\t}\n\tsave (tiddler,callback,options) {\n\t\ttry{\n\t\t\tthis.wikiDoc.transact(() => {\n\t\t\t\tthis._save(tiddler)\n\t\t\t},this);\n\t\t\tthis._updateSelection()\n\t\t} catch (error) {\n\t\t\treturn callback(error)\n\t\t}\n\t\treturn callback(null)\n\t}\n\tload (title,callback) {\n\t\tlet fields = null\n\t\ttry{\n\t\t\tfields = this._load(title)\n\t\t\tthis._updateSelection()\n\t\t} catch (error) {\n\t\t\treturn callback(error)\n\t\t}\n\t\treturn callback(null,fields)\n\t}\n\tdelete (title,callback,options) {\n\t\ttry{\n\t\t\tthis.wikiDoc.transact(() => {\n\t\t\t\tthis._delete(title)\n\t\t\t},this);\n\t\t\tthis._updateSelection()\n\t\t} catch (error) {\n\t\t\treturn callback(error)\n\t\t}\n\t\treturn callback(null)\n\t}\n\tdestroy () {\n\t\tthis.wikiTiddlers.unobserve(this._tiddlersObserver)\n\t\tif(this.awareness) {\n\t\t\tthis.awareness.off('change', this._awarenessChange)\n\t\t}\n\t}\n}"],"names":["Y","createMutex"],"mappings":"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"}